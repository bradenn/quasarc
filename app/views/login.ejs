<!DOCTYPE html>
<html lang="en">

<%- include("partials/header") %>
<%- include("partials/nav") %>

<body>
  <br>
  <div class="container">
    <div class="row">
      <div class="col-md-6" style="margin-top:5%;">

        <div class="card">
          <div class="card-body">
            <h5>Login</h5>
            <form action="/login" method="post">
              <div class="form-group">
                <input type="text" onchange="" class="form-control" id="loguser" name="loguser" placeholder="username">
                <small id="usernameStatus" class="form-text text-muted"></small>
              </div>
              <div class="form-group">
                <input type="password" class="form-control" id="logpassword" name="logpassword" placeholder="password">
              </div>
              <div class="form-group">
                <input class="btn btn-primary" type="submit" value="Login">
              </div>

              <span class="text-danger"><% if(typeof error != "undefined") { if(error.type === "login"){ %> <%= error.message %> <% } } %></span>
            </form>
          </div>
        </div>
      </div>
      <div class="col-md-6" style="margin-top:5%;">
        <div class="card">
          <div class="card-body">
            <h5>Register</h5>
            <form id="login" action="/login" autocomplete="new-password" method="post" onsubmit="event.preventDefault(); validateMyForm();">
              <div class="form-group">
                <input type="text" onchange="" autocomplete="off" class="form-control" id="username" name="username" placeholder="username">
                <small id="usernameStatus" class="form-text text-muted">Make it unique, it's forever!</small>
              </div>
              <div class="form-group">
                <input type="text" onchange="" autocomplete="off" class="form-control" id="firstname" name="firstname" placeholder="firstname">
              </div>
              <div class="form-group">
                <input type="text" onchange="" autocomplete="off" class="form-control" id="lastname" name="lastname" placeholder="lastname">
              </div>
              <div class="form-group">
                <input type="text" onchange="" autocomplete="off" class="form-control" id="email" name="email" placeholder="email">
                <small id="emailStatus" class="form-text text-muted">We won't spam you or share your info</small>
              </div>
              <div class="form-group">
                <input type="password" class="form-control" id="password" name="password" placeholder="password">
              </div>
              <div class="form-group">
                <input type="password" class="form-control" id="password_conf" name="passwordConf" placeholder="confirm password">
              </div>
              <div class="form-group">
                <input class="btn btn-primary" type="submit" value="Register">
              </div>
              <span class="text-danger"><% if(typeof error != "undefined") { if(error.type === "register"){ %> <%= error.message %> <% } } %></span>
              <span class="text-warning" id="match"></span>

            </form>

          </div>
        </div>
      </div>
    </div>
  </div>

</body>
<script type="text/javascript">
  var passWordField = document.getElementById('password')
  var passWordConfirmField = document.getElementById('password_conf')
  var form = document.getElementById('login')

  function validateMyForm() {
    if (passWordField.value != passWordConfirmField.value) {
      $("#match").html("Passwords do not match");
    } else {
      form.submit()
    }
  }
</script>

</html>
